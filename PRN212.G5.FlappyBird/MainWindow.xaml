<Window x:Class="PRN212.G5.FlappyBird.Views.MainWindow"
       xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
       xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
       Title="Flappy Bird" Height="610" Width="1000"
       KeyDown="Window_KeyDown"
       WindowStartupLocation="CenterScreen"
       ResizeMode="NoResize">

    <Grid>
        <!-- ========== DAY LAYER ========== -->
        <Grid x:Name="DayLayer" Panel.ZIndex="0" Opacity="1">
            <Image Source="/Assets/DayStage.jpg"
                   Stretch="UniformToFill"/>
        </Grid>

        <!-- ========== NIGHT LAYER ========== -->
        <Grid x:Name="NightLayer" Panel.ZIndex="1" Opacity="0">
            <Image Source="/Assets/NightStage.jpg"
                   Stretch="UniformToFill"/>
        </Grid>

        <!-- ========== GAME CANVAS (trong suốt, chứa pipes/clouds/bird) ========== -->
        <Canvas x:Name="GameCanvas"
                Background="Transparent"
                Panel.ZIndex="2">

            <Image x:Name="FlappyBird"
                   Width="50" Height="50"
                   Source="/Assets/birdfly-1.png"
                   Canvas.Left="700" Canvas.Top="140"
                   Panel.ZIndex="10"
                   RenderOptions.BitmapScalingMode="HighQuality"/>

            <TextBlock x:Name="ScoreText"
                       Text="Score: 0"
                       FontSize="24"
                       FontWeight="Bold"
                       Foreground="White"
                       Canvas.Left="191" Canvas.Top="10"
                       Panel.ZIndex="8"
                       Visibility="Collapsed"/>

            <TextBlock x:Name="HighScoreText"
                       Text="High Score: 0"
                       FontSize="16"
                       FontWeight="Bold"
                       Foreground="Yellow"
                       Canvas.Left="357" Canvas.Top="19"
                       Panel.ZIndex="8"
                       Visibility="Collapsed"/>
        </Canvas>

        <!-- GAME OVER -->
        <Grid x:Name="GameOverPanel"
              Visibility="Collapsed"
              Panel.ZIndex="30"
              Background="#80000000">
            <Border Width="420" Padding="24" CornerRadius="12"
                    Background="#9BD3F3"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center">
                <StackPanel>
                    <TextBlock Text="GAME OVER"
                               FontSize="36"
                               FontWeight="Black"
                               Foreground="#1E5163"
                               HorizontalAlignment="Center"/>
                    <Rectangle Height="6" Fill="#E3A21A" Margin="0,12,0,24"/>

                    <Grid Margin="0,0,0,8">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="SCORE" FontSize="22" FontWeight="SemiBold" Foreground="#1E5163"/>
                        <TextBlock x:Name="GoScoreValue" Grid.Column="1" Text="0" FontSize="22" FontWeight="Bold" Foreground="#1E5163"/>
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="BEST SCORE" FontSize="22" FontWeight="SemiBold" Foreground="#1E5163"/>
                        <TextBlock x:Name="GoBestScoreValue" Grid.Column="1" Text="0" FontSize="22" FontWeight="Bold" Foreground="#1E5163"/>
                    </Grid>

                    <Rectangle Height="6" Fill="#E3A21A" Margin="0,24,0,16"/>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                        <Button Grid.Column="0"
                                Content="REPLAY"
                                Width="160" Height="48"
                                FontSize="20" FontWeight="SemiBold"
                                Background="#3B8DAE" Foreground="White"
                                BorderBrush="#1E5163" BorderThickness="2"
                                Click="BtnReplay_Click"
                                Margin="0,0,8,0"/>
                        <Button Grid.Column="1"
                                Content="LEFT"
                                Width="160" Height="48"
                                FontSize="20" FontWeight="SemiBold"
                                Background="#D68F00" Foreground="White"
                                BorderBrush="#845D00" BorderThickness="2"
                                Click="BtnLeft_Click"
                                Margin="8,0,0,0"/>
                    </Grid>
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</Window>
